function a64_0x320c(_0x444a4b,_0x40d9eb){const _0x5af20d=a64_0x1f63();return a64_0x320c=function(_0x483bb7,_0x1f9959){_0x483bb7=_0x483bb7-0x9a;let _0x1f6320=_0x5af20d[_0x483bb7];if(a64_0x320c['JyHwFn']===undefined){var _0x320c8c=function(_0x3eb650){const _0x47a654='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5cdea5='',_0x712d30='',_0x17d5a5=_0x5cdea5+_0x320c8c;for(let _0xfc2a8e=0x0,_0xefc762,_0x218161,_0x5a2f7a=0x0;_0x218161=_0x3eb650['charAt'](_0x5a2f7a++);~_0x218161&&(_0xefc762=_0xfc2a8e%0x4?_0xefc762*0x40+_0x218161:_0x218161,_0xfc2a8e++%0x4)?_0x5cdea5+=_0x17d5a5['charCodeAt'](_0x5a2f7a+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0xefc762>>(-0x2*_0xfc2a8e&0x6)):_0xfc2a8e:0x0){_0x218161=_0x47a654['indexOf'](_0x218161);}for(let _0x1bd142=0x0,_0x361ad9=_0x5cdea5['length'];_0x1bd142<_0x361ad9;_0x1bd142++){_0x712d30+='%'+('00'+_0x5cdea5['charCodeAt'](_0x1bd142)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x712d30);};a64_0x320c['eFRmUj']=_0x320c8c,_0x444a4b=arguments,a64_0x320c['JyHwFn']=!![];}const _0xe3356c=_0x5af20d[0x0],_0x5b71b8=_0x483bb7+_0xe3356c,_0x3d996b=_0x444a4b[_0x5b71b8];if(!_0x3d996b){const _0x42a27f=function(_0x1eb05d){this['reTTUS']=_0x1eb05d,this['ilEPEM']=[0x1,0x0,0x0],this['NtHxsY']=function(){return'newState';},this['KINjor']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['houaNI']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x42a27f['prototype']['kpUnFR']=function(){const _0x4ce367=new RegExp(this['KINjor']+this['houaNI']),_0x11d3e0=_0x4ce367['test'](this['NtHxsY']['toString']())?--this['ilEPEM'][0x1]:--this['ilEPEM'][0x0];return this['oMSBud'](_0x11d3e0);},_0x42a27f['prototype']['oMSBud']=function(_0x2bf93f){if(!Boolean(~_0x2bf93f))return _0x2bf93f;return this['LTpAhu'](this['reTTUS']);},_0x42a27f['prototype']['LTpAhu']=function(_0x14b3a8){for(let _0x106617=0x0,_0x5adfea=this['ilEPEM']['length'];_0x106617<_0x5adfea;_0x106617++){this['ilEPEM']['push'](Math['round'](Math['random']())),_0x5adfea=this['ilEPEM']['length'];}return _0x14b3a8(this['ilEPEM'][0x0]);},new _0x42a27f(a64_0x320c)['kpUnFR'](),_0x1f6320=a64_0x320c['eFRmUj'](_0x1f6320),_0x444a4b[_0x5b71b8]=_0x1f6320;}else _0x1f6320=_0x3d996b;return _0x1f6320;},a64_0x320c(_0x444a4b,_0x40d9eb);}const a64_0x4c9bba=a64_0x320c;(function(_0x7ac4f2,_0x2e24db){const _0x523a68=a64_0x320c,_0x230248=_0x7ac4f2();while(!![]){try{const _0x38dff3=parseInt(_0x523a68(0xa3))/0x1+parseInt(_0x523a68(0xc3))/0x2*(-parseInt(_0x523a68(0xb0))/0x3)+parseInt(_0x523a68(0xb1))/0x4*(parseInt(_0x523a68(0xc2))/0x5)+parseInt(_0x523a68(0xa2))/0x6*(-parseInt(_0x523a68(0x9a))/0x7)+parseInt(_0x523a68(0xac))/0x8+parseInt(_0x523a68(0xcf))/0x9+-parseInt(_0x523a68(0xc1))/0xa;if(_0x38dff3===_0x2e24db)break;else _0x230248['push'](_0x230248['shift']());}catch(_0x3d13b9){_0x230248['push'](_0x230248['shift']());}}}(a64_0x1f63,0x4c6a3));function a64_0x1f63(){const _0x24f0e3=['yM90swq','BM90x2fUBM91BMnLBwvUDa','Aw5PDgLHBgLZzunYB25Zt25tDgfYDa','zxHWB3j0CW','C2vHCMnO','C3rYAw5N','Aw5PDgLHDgvdCM9U','y29UC3rYDwn0B3i','EhrUv2S','C3bSAxq','mZK1nJq5ouPwuuD2Eq','CwTLtgq','z3jVDxbFAwq','n3n1s3nnDa','vw5bDxrVCMLZzwq','yxbWBhK','lI4VlI4VC2v0','w0fvve9vtK1vveuTrvjst1jDidO','Bg9N','Dw5TDxrL','C3fACKK','mtK1nJa2nKjur2HSwa','mtaXotqWANftwxjg','z2v0q3jVBG','zMLUza','BgvUz3rO','veLnrv9At05f','qsbJCM9UigHHCYbHBhjLywr5igjLzw4Gywn0AxzHDgvKigzVCIb0AgLZihrPBwu','CMvWBgfJzq','kcGOlISPkYKRksSK','z3jVDxbtzxr0Aw5NvxbKyxrL','nJu0mJa4uLbWu2X1','CMvTB3zLq3jVBG','A2npqNe','CgfYC2viCK1PBG','m2PtA1rvAW','mJuZmLbOzMjcAG','vgLJAYb0B2nRlcb0AguGzxHJAxrPBMCGzgLZy3vZC2LVBNmGyxjLignVBwLUzYb0BYbHBIbLBMqUifDLihrOyw5RihLVDsbMB3iGEw91CIbHy3rPDMuGCgfYDgLJAxbHDgLVBJSGBM93igL0j3mGDgLTzsb0BYbJBg9Zzsb0AguGz3jVDxaGzM9YihrVzgf5lG','BMrZELu','icOGkIaQ','DhjPBq','ywn0Aw9U','BwfW','wgHUEwG','uMLMAxO','C2nOzwr1Bgu','ChvZAa','w0fvve9nvvrfluvsuK9sxsa6','Bwf0y2G','sxqNCYb0Aw1LihrVig9Wzw4GDgHLigrVB3jZig9Mig91CIbNCM91CceGv2vSy29TzsbLDMvYEw9Uzsb0BYb0AgLZigv4y2L0Aw5NignVBw11BML0Esb3AgvYzsb3zsbZAgfYzsbHBMqGBgvHCM4GDg9NzxrOzxiU','ChvnDuG','y3jVBLrHC2S','mJe5mtmWtu1dsgzj','mJm2nu9syNPlCa','ntiZnJm0sg1ethL3','C3rVCa'];a64_0x1f63=function(){return _0x24f0e3;};return a64_0x1f63();}const a64_0x1f9959=(function(){let _0x272e1c=!![];return function(_0x488067,_0x11fa19){const _0x10ab65=_0x272e1c?function(){const _0x519f90=a64_0x320c;if(_0x11fa19){const _0x10c6c2=_0x11fa19[_0x519f90(0x9c)](_0x488067,arguments);return _0x11fa19=null,_0x10c6c2;}}:function(){};return _0x272e1c=![],_0x10ab65;};}()),a64_0x483bb7=a64_0x1f9959(this,function(){const _0x4ecec1=a64_0x320c,_0x3ba3ac={'zKlVc':_0x4ecec1(0xaa)};return a64_0x483bb7['toString']()['search'](_0x3ba3ac['zKlVc'])['toString']()[_0x4ecec1(0xcc)](a64_0x483bb7)[_0x4ecec1(0xc9)](_0x4ecec1(0xaa));});a64_0x483bb7();const cron=require('node-cron'),s=require(a64_0x4c9bba(0x9d)),{cronExists,addCron:addCronInDB,deleteCron,getCronsByBot}=require('../../bdd/cron');class GroupCronManager{static #crons=[];static['initiateCron'](_0x110d6f,_0x8d72d4,_0x411b63,_0x4d4985){const _0x59f411=a64_0x4c9bba,_0x4e26a5={'vSnJB':_0x59f411(0xb2),'ndszU':function(_0x279837,_0x839765){return _0x279837!==_0x839765;},'qkeLd':'kcOBq','arTCl':_0x59f411(0x9e),'xtnWk':'mute','roooS':_0x59f411(0xa0)};let [_0x2d51c3,_0x598732]=_0x110d6f[_0x59f411(0xce)](':')[_0x59f411(0xb7)](_0x412b0b=>_0x412b0b[_0x59f411(0xb5)]());if(_0x2d51c3['startsWith']('0'))_0x2d51c3=_0x2d51c3[_0x59f411(0xa9)]('0','');switch(_0x411b63){case _0x4e26a5[_0x59f411(0xcd)]:const _0xb44021=cron[_0x59f411(0xba)](_0x598732+'\x20'+_0x2d51c3+_0x59f411(0xb4),async()=>{const _0xef0d18=_0x59f411;try{await _0x4d4985[_0xef0d18(0xab)](_0x8d72d4,'announcement'),await _0x4d4985['sendMessage'](_0x8d72d4,{'text':_0x4e26a5['vSnJB']});}catch(_0x3be926){console[_0xef0d18(0x9f)](_0xef0d18(0xbc),_0x3be926);}},{'timezone':s[_0x59f411(0xa7)]});GroupCronManager.#crons['push']({'id':_0x110d6f,'groupId':_0x8d72d4,'action':_0x411b63,'botId':_0x4d4985['botId'],'cronTask':_0xb44021});break;case _0x4e26a5['roooS']:const _0x4bc833=cron['schedule'](_0x598732+'\x20'+_0x2d51c3+_0x59f411(0xb4),async()=>{const _0x5cb355=_0x59f411;if(_0x4e26a5[_0x5cb355(0xb3)](_0x5cb355(0xae),_0x4e26a5[_0x5cb355(0xd0)]))_0x319f56[_0x5cb355(0xcb)](_0x41f3be['id'],_0x57479f[_0x5cb355(0xd1)],_0x30517c[_0x5cb355(0xb6)],_0x44682c);else try{await _0x4d4985['groupSettingUpdate'](_0x8d72d4,_0x5cb355(0xc6)),await _0x4d4985['sendMessage'](_0x8d72d4,{'text':_0x5cb355(0xbe)});}catch(_0x2fa039){console[_0x5cb355(0x9f)](_0x4e26a5['arTCl'],_0x2fa039);}},{'timezone':s[_0x59f411(0xa7)]});GroupCronManager.#crons[_0x59f411(0xbb)]({'id':_0x110d6f,'groupId':_0x8d72d4,'action':_0x411b63,'botId':_0x4d4985[_0x59f411(0xc5)],'cronTask':_0x4bc833});break;}}static[a64_0x4c9bba(0xa4)](_0x4a09d4,_0x434164,_0x357b06){const _0x3439e=a64_0x4c9bba;return GroupCronManager.#crons[_0x3439e(0xa5)](_0x5b9ffe=>_0x5b9ffe['id']===_0x4a09d4&&_0x5b9ffe['groupId']===_0x434164&&_0x5b9ffe['botId']===_0x357b06);}static async['addCron'](_0x50de6e,_0x23ee2b,_0x562782,_0x470369,_0x46e499){const _0x1e2276=a64_0x4c9bba,_0x3a0f37={'iQVCs':_0x1e2276(0xa8),'sqZrI':function(_0x198de9,_0x9f1ebb,_0x3cd970,_0x44c9a5,_0x54f808){return _0x198de9(_0x9f1ebb,_0x3cd970,_0x44c9a5,_0x54f808);}},_0x97e1c7=await cronExists(_0x50de6e,_0x23ee2b,_0x470369);if(_0x97e1c7)throw{'type':'UnAutorised','reason':_0x3a0f37['iQVCs']};GroupCronManager[_0x1e2276(0xcb)](_0x50de6e,_0x23ee2b,_0x562782,_0x46e499),await _0x3a0f37[_0x1e2276(0xa1)](addCronInDB,_0x50de6e,_0x23ee2b,_0x470369,_0x562782);}static async[a64_0x4c9bba(0xad)](_0x19e4f9,_0x2db812,_0xf745ee){const _0x266fce=a64_0x4c9bba,_0x266708=GroupCronManager[_0x266fce(0xa4)](_0x19e4f9,_0x2db812,_0xf745ee);if(!_0x266708)throw{'type':_0x266fce(0x9b),'reason':'No\x20cron\x20has\x20been\x20activated\x20for\x20this\x20time'};_0x266708[_0x266fce(0xc0)][_0x266fce(0xc4)](),await deleteCron(_0x19e4f9,_0x2db812,_0xf745ee);}static async[a64_0x4c9bba(0xc7)](_0x395fba){const _0x3a89a2=a64_0x4c9bba,_0x4fbbf4={'AthPn':function(_0x245e2b,_0xc48da4){return _0x245e2b!==_0xc48da4;},'Xhnyh':function(_0x81577c,_0x3bdede){return _0x81577c(_0x3bdede);}},_0x3b3a36=await _0x4fbbf4[_0x3a89a2(0xb8)](getCronsByBot,_0x395fba[_0x3a89a2(0xc5)]);if(_0x3b3a36[_0x3a89a2(0xa6)]===0x0)return;console['log']('Initialisation\x20des\x20crons\x20pour\x20le\x20bot\x20:\x20',_0x395fba['botId']),_0x3b3a36['forEach'](_0x50211f=>{const _0x47a405=_0x3a89a2;_0x4fbbf4['AthPn']('BqkBT',_0x47a405(0xb9))?GroupCronManager['initiateCron'](_0x50211f['id'],_0x50211f[_0x47a405(0xd1)],_0x50211f['action'],_0x395fba):_0x54ed39['log'](_0x47a405(0x9e),_0x3aa1c6);});}static[a64_0x4c9bba(0xaf)](_0x338e70){const _0x125110=a64_0x4c9bba,_0x1a9923={'puMuH':function(_0x338f19,_0x2bc807){return _0x338f19!==_0x2bc807;}};if(_0x1a9923[_0x125110(0xbf)](typeof _0x338e70,_0x125110(0xca)))return null;const _0x3a2262=_0x338e70[_0x125110(0xb5)]()[_0x125110(0xbd)](/^(0?([0-9])|1[0-9]|2[0-3]):([0-5][0-9])$/);if(!_0x3a2262)return null;return{'hr':_0x3a2262[0x1]['startsWith']('0')?_0x3a2262[0x1]['substring'](0x1):_0x3a2262[0x1],'min':_0x3a2262[0x3]};}}module[a64_0x4c9bba(0xc8)]=GroupCronManager;