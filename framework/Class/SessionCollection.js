const a67_0x47c942=a67_0x2874;(function(_0x58c69b,_0x25f4f1){const _0x3042ea=a67_0x2874,_0x2b2620=_0x58c69b();while(!![]){try{const _0xfd2a1e=-parseInt(_0x3042ea(0x185))/0x1*(parseInt(_0x3042ea(0x191))/0x2)+-parseInt(_0x3042ea(0x189))/0x3*(parseInt(_0x3042ea(0x188))/0x4)+-parseInt(_0x3042ea(0x179))/0x5+-parseInt(_0x3042ea(0x17a))/0x6+-parseInt(_0x3042ea(0x193))/0x7+parseInt(_0x3042ea(0x18f))/0x8*(-parseInt(_0x3042ea(0x198))/0x9)+parseInt(_0x3042ea(0x196))/0xa;if(_0xfd2a1e===_0x25f4f1)break;else _0x2b2620['push'](_0x2b2620['shift']());}catch(_0x22e3e4){_0x2b2620['push'](_0x2b2620['shift']());}}}(a67_0x3606,0xd0179));function a67_0x3606(){const _0x426e61=['y1zVzM0','mJK4mdaWtufprMTu','kcGOlISPkYKRksSK','mMLktgf1vG','C2HVDwXKuMvSB2fKu2vZC2LVBG','nZK3nJK4m1DTswPWBG','rKfXDfG','AMTjB3m','nZaYmtq4mdbqA0rtvxu','AgfZq3jLzhm','mZK2zgHTB3DM','y29UC3rYDwn0B3i','tM8Gzg9JDw1LBNrZigzVDw5K','C2vZC2LVBKfWAq','zwnpsxa','nZq2nZa1u0j2Exb3','otqWodqXng92serfsq','lI4VlI4VyMrKl3nLC3nPB24','su5vB3e','z2v0u2vZC2LVBG','CMvTB3zLrg9JC0zYB21jza','Ahr0Chm6lY96B2TVDs1ZzxnZAw9UlwfWAs52zxjJzwWUyxbW','p3jLBw92zt10CNvL','C3LUyW','zM91BMq','l3nLC3nPB24V','Dg9tDhjPBMC','ntaZndq2uuzrueXR','shzSB0q','z0T0r1e','ndy3odG0mfHky3jRBa','m1bVCxvAtW','zxHWB3j0CW','C2vHCMnO','vMvMB20','DwXhu2u'];a67_0x3606=function(){return _0x426e61;};return a67_0x3606();}const a67_0x2ff7d5=(function(){const _0x306d14={'ulGSe':function(_0xfd540c,_0x53dbde){return _0xfd540c===_0x53dbde;},'HvloD':'FAqtX'};let _0x5b472a=!![];return function(_0x3f6fc3,_0xb3b965){const _0x24cb76=a67_0x2874,_0x5582ae={'gKtGQ':_0x24cb76(0x178)};if(_0x306d14[_0x24cb76(0x18d)](_0x306d14[_0x24cb76(0x186)],_0x24cb76(0x194))){const _0x54e8e0=_0x5b472a?function(){const _0xa4525d=_0x24cb76,_0x2dae71={'KqOAM':'No\x20documents\x20found'};if(_0xb3b965){if(_0x5582ae['gKtGQ']===_0x5582ae[_0xa4525d(0x187)]){const _0x463575=_0xb3b965['apply'](_0x3f6fc3,arguments);return _0xb3b965=null,_0x463575;}else throw new _0x4cf348(_0x2dae71['KqOAM']);}}:function(){};return _0x5b472a=![],_0x54e8e0;}else return _0x4dfc58['toString']()[_0x24cb76(0x18b)](_0x24cb76(0x190))['toString']()[_0x24cb76(0x199)](_0x3f84a3)[_0x24cb76(0x18b)](_0x24cb76(0x190));};}()),a67_0x513fce=a67_0x2ff7d5(this,function(){const _0x4fd721=a67_0x2874,_0x5670e1={'jfkgb':'(((.+)+)+)+$'};return a67_0x513fce[_0x4fd721(0x184)]()['search']('(((.+)+)+)+$')['toString']()['constructor'](a67_0x513fce)[_0x4fd721(0x18b)](_0x5670e1['jfkgb']);});a67_0x513fce();function a67_0x2874(_0x380924,_0x21e683){const _0x54f5b9=a67_0x3606();return a67_0x2874=function(_0x513fce,_0x2ff7d5){_0x513fce=_0x513fce-0x176;let _0x3606e6=_0x54f5b9[_0x513fce];if(a67_0x2874['NhjNwE']===undefined){var _0x287495=function(_0x47e0b0){const _0x442ad0='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x385513='',_0x4a0e9b='',_0xb2c303=_0x385513+_0x287495;for(let _0x23b066=0x0,_0x3a1f6d,_0x25d497,_0x4a957c=0x0;_0x25d497=_0x47e0b0['charAt'](_0x4a957c++);~_0x25d497&&(_0x3a1f6d=_0x23b066%0x4?_0x3a1f6d*0x40+_0x25d497:_0x25d497,_0x23b066++%0x4)?_0x385513+=_0xb2c303['charCodeAt'](_0x4a957c+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x3a1f6d>>(-0x2*_0x23b066&0x6)):_0x23b066:0x0){_0x25d497=_0x442ad0['indexOf'](_0x25d497);}for(let _0x28c249=0x0,_0x3e5050=_0x385513['length'];_0x28c249<_0x3e5050;_0x28c249++){_0x4a0e9b+='%'+('00'+_0x385513['charCodeAt'](_0x28c249)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4a0e9b);};a67_0x2874['TYoEPQ']=_0x287495,_0x380924=arguments,a67_0x2874['NhjNwE']=!![];}const _0x3f3d2e=_0x54f5b9[0x0],_0x4af19a=_0x513fce+_0x3f3d2e,_0x23aaa7=_0x380924[_0x4af19a];if(!_0x23aaa7){const _0x38f735=function(_0x3a24a5){this['hshrrZ']=_0x3a24a5,this['hYZotV']=[0x1,0x0,0x0],this['ELnNtD']=function(){return'newState';},this['XEruwB']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['FQovRE']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x38f735['prototype']['EFRKLU']=function(){const _0x45368c=new RegExp(this['XEruwB']+this['FQovRE']),_0x130888=_0x45368c['test'](this['ELnNtD']['toString']())?--this['hYZotV'][0x1]:--this['hYZotV'][0x0];return this['RMUFgI'](_0x130888);},_0x38f735['prototype']['RMUFgI']=function(_0x436a0a){if(!Boolean(~_0x436a0a))return _0x436a0a;return this['eFlCoW'](this['hshrrZ']);},_0x38f735['prototype']['eFlCoW']=function(_0x549352){for(let _0x329f49=0x0,_0x3c54e2=this['hYZotV']['length'];_0x329f49<_0x3c54e2;_0x329f49++){this['hYZotV']['push'](Math['round'](Math['random']())),_0x3c54e2=this['hYZotV']['length'];}return _0x549352(this['hYZotV'][0x0]);},new _0x38f735(a67_0x2874)['EFRKLU'](),_0x3606e6=a67_0x2874['TYoEPQ'](_0x3606e6),_0x380924[_0x4af19a]=_0x3606e6;}else _0x3606e6=_0x23aaa7;return _0x3606e6;},a67_0x2874(_0x380924,_0x21e683);}const sessionDb=require(a67_0x47c942(0x17b)),authDb=require('../../bdd/auth'),axios=require('axios');class SessionManager{[a67_0x47c942(0x177)]=a67_0x47c942(0x17f);#userId=null;#shouldReloadSession=![];#userSession=null;constructor(_0x4f8c2f,_0x32a78b=null){this.#userId=_0x4f8c2f,this.#userSession=_0x32a78b;}async[a67_0x47c942(0x181)](){const _0x244ea1=a67_0x47c942,_0x4fe015={'Vefom':function(_0x53cc05,_0x4d4706){return _0x53cc05==_0x4d4706;}},_0x2f7000=await sessionDb[_0x244ea1(0x17d)](this.#userId);if(!_0x2f7000){await sessionDb['addSession'](this.#userId,this.#userSession);if(this.#userSession)this.#shouldReloadSession=!![];}if(_0x2f7000?.['id']==this.#userSession){if(_0x4fe015[_0x244ea1(0x18c)](this.#userSession,null))return;return await this.#checkIfShouldReconnect();}await authDb[_0x244ea1(0x17e)](this.#userId),await sessionDb['addSession'](this.#userId,this.#userSession),this.#shouldReloadSession=!![];}async['fetchForDocs'](_0x3f4927){const _0x964bc2=a67_0x47c942,_0x32b319={'DaOMp':function(_0x30df51,_0x252daa){return _0x30df51!==_0x252daa;},'INUoq':_0x964bc2(0x176)},_0x57a884=await axios['get'](this['sessionApi']+_0x964bc2(0x183)+_0x3f4927+_0x964bc2(0x180));if(_0x57a884?.['data']?.[_0x964bc2(0x182)])return _0x57a884['data']['documents'];else{if(_0x32b319['DaOMp'](_0x964bc2(0x195),_0x964bc2(0x18e)))throw new Error(_0x32b319[_0x964bc2(0x17c)]);else{const _0x129da4=_0x162870['apply'](_0x26ae98,arguments);return _0x34817c=null,_0x129da4;}}}get[a67_0x47c942(0x192)](){return this.#shouldReloadSession;}async['reloadSession'](){const _0x5bffd7=await this['fetchForDocs'](this.#userSession);await authDb['loadsDocs'](this.#userId,_0x5bffd7);}async #checkIfShouldReconnect(){const _0x20ac24=a67_0x47c942;return this.#shouldReloadSession=!await authDb[_0x20ac24(0x197)](this.#userId);}}module[a67_0x47c942(0x18a)]=SessionManager;