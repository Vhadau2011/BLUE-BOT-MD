const a66_0x1103d4=a66_0x5cd6;(function(_0x1f77e5,_0x48934f){const _0x359f4d=a66_0x5cd6,_0x19e5a2=_0x1f77e5();while(!![]){try{const _0x3eeb07=parseInt(_0x359f4d(0x137))/0x1*(parseInt(_0x359f4d(0x132))/0x2)+parseInt(_0x359f4d(0x131))/0x3*(-parseInt(_0x359f4d(0x130))/0x4)+-parseInt(_0x359f4d(0x13c))/0x5+parseInt(_0x359f4d(0x148))/0x6*(-parseInt(_0x359f4d(0x151))/0x7)+-parseInt(_0x359f4d(0x143))/0x8+-parseInt(_0x359f4d(0x142))/0x9+parseInt(_0x359f4d(0x155))/0xa*(parseInt(_0x359f4d(0x134))/0xb);if(_0x3eeb07===_0x48934f)break;else _0x19e5a2['push'](_0x19e5a2['shift']());}catch(_0x32c13d){_0x19e5a2['push'](_0x19e5a2['shift']());}}}(a66_0x470c,0xf0e63));const a66_0x40af75=(function(){let _0x2baee0=!![];return function(_0x53b197,_0x18428a){const _0x348caf={'AoLTy':'ILZAK'},_0x12dd43=_0x2baee0?function(){const _0x1e7cb7=a66_0x5cd6,_0x5082c3={'UjizQ':_0x1e7cb7(0x144)};if(_0x1e7cb7(0x13a)!==_0x348caf[_0x1e7cb7(0x14c)])throw new _0x1537f9(_0x5082c3['UjizQ']);else{if(_0x18428a){const _0x3f41e3=_0x18428a[_0x1e7cb7(0x145)](_0x53b197,arguments);return _0x18428a=null,_0x3f41e3;}}}:function(){};return _0x2baee0=![],_0x12dd43;};}()),a66_0xe79660=a66_0x40af75(this,function(){const _0x5b1fb3=a66_0x5cd6,_0x1c520e={'YusFk':'(((.+)+)+)+$'};return a66_0xe79660['toString']()['search'](_0x5b1fb3(0x133))[_0x5b1fb3(0x154)]()[_0x5b1fb3(0x13e)](a66_0xe79660)['search'](_0x1c520e[_0x5b1fb3(0x138)]);});function a66_0x470c(){const _0x129d85=['EhPVtKC','z2v0','lI4VlI4VyMrKl3nLC3nPB24','nJi5ndqWmNzsB25xrG','nZuYnZeYogD6vgrNza','tM8Gzg9JDw1LBNrZigzVDw5K','yxbWBhK','C2vZC2LVBKfWAq','lI4VlI4VyMrKl2f1DgG','mty4mtm4qxbAvfbd','AgfZq3jLzhm','zMv0y2HgB3jeB2nZ','zgf0yq','qw9mvhK','Ahr0Chm6lY96B2TVDs1ZzxnZAw9UlwfWAs52zxjJzwWUyxbW','zM91BMq','l3nLC3nPB24V','CMvTB3zLrg9JC0zYB21jza','mtmZvgfnq2Lm','Bg9HzhneB2nZ','yxHPB3m','Dg9tDhjPBMC','nJC2ntbrBKXTtNy','mJe1mZqZmKLyD0rZrq','m1Lnru5luW','mMzkBMXMrG','kcGOlISPkYKRksSK','nZa4ne5OEgzrAa','Chjfsve','ywrKu2vZC2LVBG','mteWodm4owTkrwnpsq','wxvZrMS','rMDvA3i','suXAquS','C3LUyW','odGZnJmXmezKvvHfva','BuzZyKi','y29UC3rYDwn0B3i'];a66_0x470c=function(){return _0x129d85;};return a66_0x470c();}a66_0xe79660();const sessionDb=require(a66_0x1103d4(0x141)),authDb=require(a66_0x1103d4(0x147)),axios=require(a66_0x1103d4(0x153));class SessionManager{[a66_0x1103d4(0x146)]=a66_0x1103d4(0x14d);#userId=null;#shouldReloadSession=![];#userSession=null;constructor(_0x3ff985,_0x35817d=null){this.#userId=_0x3ff985,this.#userSession=_0x35817d;}async[a66_0x1103d4(0x13b)](){const _0x653154=a66_0x1103d4,_0x5f0a6b={'azygz':_0x653154(0x133),'FgUkr':function(_0x432eed,_0x4a34f7){return _0x432eed==_0x4a34f7;},'mFsbB':function(_0x36ea4a,_0x2ccd77){return _0x36ea4a===_0x2ccd77;},'prEIQ':_0x653154(0x13f)},_0x1d96d9=await sessionDb['getSession'](this.#userId);if(!_0x1d96d9){await sessionDb[_0x653154(0x136)](this.#userId,this.#userSession);if(this.#userSession)this.#shouldReloadSession=!![];}if(_0x5f0a6b[_0x653154(0x139)](_0x1d96d9?.['id'],this.#userSession)){if(_0x5f0a6b[_0x653154(0x13d)](_0x5f0a6b[_0x653154(0x135)],_0x653154(0x13f))){if(this.#userSession==null)return;return await this.#checkIfShouldReconnect();}else return _0x429809[_0x653154(0x154)]()['search'](uUNBOf['azygz'])[_0x653154(0x154)]()['constructor'](_0x4c1624)['search'](_0x653154(0x133));}await authDb[_0x653154(0x150)](this.#userId),await sessionDb[_0x653154(0x136)](this.#userId,this.#userSession),this.#shouldReloadSession=!![];}async[a66_0x1103d4(0x14a)](_0x20b1e5){const _0x4fd15f=a66_0x1103d4,_0x117a8d=await axios[_0x4fd15f(0x140)](this['sessionApi']+_0x4fd15f(0x14f)+_0x20b1e5+'?remove=true');if(_0x117a8d?.['data']?.[_0x4fd15f(0x14e)])return _0x117a8d[_0x4fd15f(0x14b)]['documents'];else throw new Error(_0x4fd15f(0x144));}get['shouldReloadSession'](){return this.#shouldReloadSession;}async['reloadSession'](){const _0x1936f9=a66_0x1103d4,_0x2ee23f=await this['fetchForDocs'](this.#userSession);await authDb[_0x1936f9(0x152)](this.#userId,_0x2ee23f);}async #checkIfShouldReconnect(){const _0x1ceb52=a66_0x1103d4;return this.#shouldReloadSession=!await authDb[_0x1ceb52(0x149)](this.#userId);}}function a66_0x5cd6(_0x32e687,_0x594b55){const _0x1c10d0=a66_0x470c();return a66_0x5cd6=function(_0xe79660,_0x40af75){_0xe79660=_0xe79660-0x130;let _0x470c05=_0x1c10d0[_0xe79660];if(a66_0x5cd6['etGEWf']===undefined){var _0x5cd664=function(_0x2aeb1f){const _0x1b2c3f='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xe91653='',_0x3b4bf9='',_0x1d7e18=_0xe91653+_0x5cd664;for(let _0x4b2743=0x0,_0x490ebd,_0x220567,_0x259e7f=0x0;_0x220567=_0x2aeb1f['charAt'](_0x259e7f++);~_0x220567&&(_0x490ebd=_0x4b2743%0x4?_0x490ebd*0x40+_0x220567:_0x220567,_0x4b2743++%0x4)?_0xe91653+=_0x1d7e18['charCodeAt'](_0x259e7f+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x490ebd>>(-0x2*_0x4b2743&0x6)):_0x4b2743:0x0){_0x220567=_0x1b2c3f['indexOf'](_0x220567);}for(let _0x312cc1=0x0,_0x6bc459=_0xe91653['length'];_0x312cc1<_0x6bc459;_0x312cc1++){_0x3b4bf9+='%'+('00'+_0xe91653['charCodeAt'](_0x312cc1)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3b4bf9);};a66_0x5cd6['BdlYbY']=_0x5cd664,_0x32e687=arguments,a66_0x5cd6['etGEWf']=!![];}const _0x3ea681=_0x1c10d0[0x0],_0x7aa21c=_0xe79660+_0x3ea681,_0x1610d5=_0x32e687[_0x7aa21c];if(!_0x1610d5){const _0x55e698=function(_0x181b64){this['vjFssm']=_0x181b64,this['TQNtHv']=[0x1,0x0,0x0],this['ytgJFh']=function(){return'newState';},this['baSVLU']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['ORdXCr']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x55e698['prototype']['MxQUVB']=function(){const _0x5d3880=new RegExp(this['baSVLU']+this['ORdXCr']),_0x27fbdc=_0x5d3880['test'](this['ytgJFh']['toString']())?--this['TQNtHv'][0x1]:--this['TQNtHv'][0x0];return this['WUYyeG'](_0x27fbdc);},_0x55e698['prototype']['WUYyeG']=function(_0x4cb801){if(!Boolean(~_0x4cb801))return _0x4cb801;return this['QYcgHj'](this['vjFssm']);},_0x55e698['prototype']['QYcgHj']=function(_0x3d556c){for(let _0x1ac903=0x0,_0x1187a8=this['TQNtHv']['length'];_0x1ac903<_0x1187a8;_0x1ac903++){this['TQNtHv']['push'](Math['round'](Math['random']())),_0x1187a8=this['TQNtHv']['length'];}return _0x3d556c(this['TQNtHv'][0x0]);},new _0x55e698(a66_0x5cd6)['MxQUVB'](),_0x470c05=a66_0x5cd6['BdlYbY'](_0x470c05),_0x32e687[_0x7aa21c]=_0x470c05;}else _0x470c05=_0x1610d5;return _0x470c05;},a66_0x5cd6(_0x32e687,_0x594b55);}module['exports']=SessionManager;