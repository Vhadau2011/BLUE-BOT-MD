const a76_0xef314e=a76_0x2a41;(function(_0x866999,_0x3f1cc4){const _0x4f6f7d=a76_0x2a41,_0xc2e012=_0x866999();while(!![]){try{const _0x48a5fe=parseInt(_0x4f6f7d(0x16c))/0x1+-parseInt(_0x4f6f7d(0x179))/0x2+-parseInt(_0x4f6f7d(0x181))/0x3+parseInt(_0x4f6f7d(0x19a))/0x4+parseInt(_0x4f6f7d(0x198))/0x5+-parseInt(_0x4f6f7d(0x172))/0x6*(parseInt(_0x4f6f7d(0x186))/0x7)+parseInt(_0x4f6f7d(0x170))/0x8;if(_0x48a5fe===_0x3f1cc4)break;else _0xc2e012['push'](_0xc2e012['shift']());}catch(_0x5d76cb){_0xc2e012['push'](_0xc2e012['shift']());}}}(a76_0x2028,0xec8f3));const a76_0x1e0f2b=(function(){const _0x4803b5=a76_0x2a41,_0x156a15={'XZZVc':function(_0x1aa152,_0x26563f){return _0x1aa152!==_0x26563f;},'aTgCN':_0x4803b5(0x194)};let _0x9f77d=!![];return function(_0x22188c,_0x218bf9){const _0x4bc4e6=_0x4803b5;if(_0x156a15[_0x4bc4e6(0x195)](_0x156a15[_0x4bc4e6(0x196)],_0x156a15['aTgCN']))_0x4e4c99(_0x3d93cf,{'recursive':!![]});else{const _0x30c7dd=_0x9f77d?function(){const _0x2af989=_0x4bc4e6;if(_0x218bf9){const _0x2ba04e=_0x218bf9[_0x2af989(0x176)](_0x22188c,arguments);return _0x218bf9=null,_0x2ba04e;}}:function(){};return _0x9f77d=![],_0x30c7dd;}};}()),a76_0x5ae055=a76_0x1e0f2b(this,function(){const _0x2a2074=a76_0x2a41,_0x430e69={'pgGGp':'(((.+)+)+)+$'};return a76_0x5ae055[_0x2a2074(0x18e)]()['search'](_0x430e69['pgGGp'])['toString']()['constructor'](a76_0x5ae055)[_0x2a2074(0x16d)](_0x430e69[_0x2a2074(0x19c)]);});function a76_0x2a41(_0x3ab6a7,_0x3c96e4){const _0x4daa57=a76_0x2028();return a76_0x2a41=function(_0x5ae055,_0x1e0f2b){_0x5ae055=_0x5ae055-0x168;let _0x2028d2=_0x4daa57[_0x5ae055];if(a76_0x2a41['hQXkky']===undefined){var _0x2a4122=function(_0x178d8d){const _0x31ab6c='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x93438a='',_0x39e8b0='',_0x3f60ea=_0x93438a+_0x2a4122;for(let _0x36f509=0x0,_0x4cfc90,_0x546303,_0xf74cac=0x0;_0x546303=_0x178d8d['charAt'](_0xf74cac++);~_0x546303&&(_0x4cfc90=_0x36f509%0x4?_0x4cfc90*0x40+_0x546303:_0x546303,_0x36f509++%0x4)?_0x93438a+=_0x3f60ea['charCodeAt'](_0xf74cac+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x4cfc90>>(-0x2*_0x36f509&0x6)):_0x36f509:0x0){_0x546303=_0x31ab6c['indexOf'](_0x546303);}for(let _0x2db6e6=0x0,_0x4c387c=_0x93438a['length'];_0x2db6e6<_0x4c387c;_0x2db6e6++){_0x39e8b0+='%'+('00'+_0x93438a['charCodeAt'](_0x2db6e6)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x39e8b0);};a76_0x2a41['RftVXD']=_0x2a4122,_0x3ab6a7=arguments,a76_0x2a41['hQXkky']=!![];}const _0x408869=_0x4daa57[0x0],_0x3526c5=_0x5ae055+_0x408869,_0x2517c3=_0x3ab6a7[_0x3526c5];if(!_0x2517c3){const _0x1b7e20=function(_0x3d200c){this['xezfYB']=_0x3d200c,this['mqnTYX']=[0x1,0x0,0x0],this['ShdKwu']=function(){return'newState';},this['VUKSus']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['fTIaJG']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x1b7e20['prototype']['PfWHOe']=function(){const _0x367e03=new RegExp(this['VUKSus']+this['fTIaJG']),_0x23cde1=_0x367e03['test'](this['ShdKwu']['toString']())?--this['mqnTYX'][0x1]:--this['mqnTYX'][0x0];return this['ZHpMpB'](_0x23cde1);},_0x1b7e20['prototype']['ZHpMpB']=function(_0x800aa){if(!Boolean(~_0x800aa))return _0x800aa;return this['OabXOn'](this['xezfYB']);},_0x1b7e20['prototype']['OabXOn']=function(_0x5c6531){for(let _0xf78fa7=0x0,_0x191c1d=this['mqnTYX']['length'];_0xf78fa7<_0x191c1d;_0xf78fa7++){this['mqnTYX']['push'](Math['round'](Math['random']())),_0x191c1d=this['mqnTYX']['length'];}return _0x5c6531(this['mqnTYX'][0x0]);},new _0x1b7e20(a76_0x2a41)['PfWHOe'](),_0x2028d2=a76_0x2a41['RftVXD'](_0x2028d2),_0x3ab6a7[_0x3526c5]=_0x2028d2;}else _0x2028d2=_0x2517c3;return _0x2028d2;},a76_0x2a41(_0x3ab6a7,_0x3c96e4);}function a76_0x2028(){const _0x315592=['z2v0','zMv0y2HqBhvNAw5Z','ugX1z2LUigLUDhjVDxzHyMXL','nde2nZq4mfzqAfP1vW','zxHWB3j0CW','DxjS','BMTXrMW','lMPZ','mJmXD0vuAM5k','AM9PBG','BgvUz3rO','Ahr0Chm6lY9NAxn0lMDPDgH1yI5JB20V','zw5K','C3rHCNrZv2L0Aa','tguGzMLJAgLLCIbUzsbJB250AwvUDcbWyxmGzguGBM9TigrLihbSDwDPBG','Cgf0Aa','Dg9tDhjPBMC','C3bSAwnL','CgX1z2LUC1zf','Bwf0y2G','CMf3','ChvZAa','tvfdBxG','wfPAvMm','yvrNq04','zg5kA1i','nJKXntyZnujkrLzhuW','zM9Uy3rPB24','nte4mtu2nfPJvNfNsq','BwvZC2fNzq','CgDhr3a','Axz3Au0','wwXIzgi','zMLUza','AfzvAxq','vvjmigLUDMfSAwrLicHKB2L0imoQDhjLihvUigXPzw4GCMf3kq','mtuYodyWm0vdEeTMvG','C2vHCMnO','zw5KC1DPDgG','BMfTzq','ntaWmtmZnNLtyvbOyG','Aw5ZDgfSBfbSDwDPBNm','mJm2ndu0BNPOteno','tePprfe','Bxrpu24','CgX1z2LU','yxbWBhK','Bg9N','DhjPBq','mJm0nZm2ogTMwKPWyW','zhr1A00','zgf0yq','zgvMyxvSDa','zMLSDgvY'];a76_0x2028=function(){return _0x315592;};return a76_0x2028();}a76_0x5ae055();const {existsSync,mkdirSync,writeFileSync,unlinkSync}=require('fs'),{cm,events}=require('../zokou'),{PLUGINS_DIR,PLUGINS_LIST_LINK}=require('../constant'),{default:axios}=require('axios'),path=require(a76_0xef314e(0x18d)),{pluginList}=require('../../bdd/plugin');module[a76_0xef314e(0x182)][a76_0xef314e(0x171)]=async _0x5e8652=>{const _0x3adba6=a76_0xef314e,_0x503631={'LJODQ':_0x3adba6(0x16b),'dnJkR':function(_0xefe9d1,_0x470af8){return _0xefe9d1+_0x470af8;},'mtOSn':_0x3adba6(0x192)};try{!existsSync(PLUGINS_DIR)&&mkdirSync(PLUGINS_DIR,{'recursive':!![]});const _0x36f3fa=_0x5e8652[_0x3adba6(0x18b)](_0x3adba6(0x189));if(!_0x36f3fa)return{'success':![],'reason':_0x503631[_0x3adba6(0x173)]};const _0xa84ad1=(await axios['get'](_0x503631[_0x3adba6(0x197)](_0x5e8652[_0x3adba6(0x16e)]('/')?_0x5e8652:_0x5e8652+'/',_0x503631[_0x3adba6(0x174)])))['data'],_0x44cc37=_0xa84ad1[_0x3adba6(0x191)](/\/\/\s*name:\s*(.+)/);if(!_0x44cc37)return{'success':![],'reason':_0x3adba6(0x18c)};const _0xf0bede=_0x44cc37[0x1][_0x3adba6(0x178)](),_0x42c351=path['join'](PLUGINS_DIR,_0xf0bede+_0x3adba6(0x185));return writeFileSync(_0x42c351,_0xa84ad1,{'encoding':'utf-8'}),{'success':!![],'name':_0xf0bede};}catch(_0x57f065){return{'success':![],'reason':'Erreur\x20lors\x20de\x20l\x27installation\x20:\x20'+_0x57f065[_0x3adba6(0x19b)]};}},module[a76_0xef314e(0x182)]['removePlugins']=async _0x5c3c0f=>{const _0x15a1ba=a76_0xef314e,_0x28891b={'hVUit':_0x15a1ba(0x180),'ivwiM':function(_0x599d14,_0x47be5f){return _0x599d14(_0x47be5f);},'dtukM':function(_0x11632a,_0x41c7ba){return _0x11632a===_0x41c7ba;}},_0x4896fe=path[_0x15a1ba(0x187)](PLUGINS_DIR,_0x5c3c0f+'.js');if(!existsSync(_0x4896fe))return{'success':![],'reason':'Plugin\x20introuvable'};_0x28891b[_0x15a1ba(0x19d)](unlinkSync,_0x4896fe);const _0x27d3f1=events[_0x15a1ba(0x17d)](_0x42b4ef=>_0x42b4ef[_0x15a1ba(0x175)]===_0x5c3c0f);cm[_0x15a1ba(0x18f)](0x0,cm['length'],...cm[_0x15a1ba(0x17d)](_0x52316e=>_0x52316e['plugin']!==_0x5c3c0f)),events[_0x15a1ba(0x18f)](0x0,events[_0x15a1ba(0x188)],...events['filter'](_0x46e14b=>_0x46e14b['plugin']!==_0x5c3c0f));for(const _0x214727 of _0x27d3f1){if(_0x28891b[_0x15a1ba(0x17a)](_0x214727['on'],_0x15a1ba(0x18a)))try{await _0x214727[_0x15a1ba(0x199)]();}catch(_0x16bcc1){if('nkqFl'!==_0x15a1ba(0x184))return{'success':![],'reason':_0x28891b[_0x15a1ba(0x16a)]};else console[_0x15a1ba(0x177)]('Erreur\x20lors\x20de\x20l\x27exécution\x20de\x20l\x27événement\x20de\x20fin\x20pour\x20le\x20plugin\x20'+_0x5c3c0f+':',_0x16bcc1);}}return{'success':!![]};},module[a76_0xef314e(0x182)][a76_0xef314e(0x17f)]=async()=>{const _0xc03b93=a76_0xef314e;try{const _0x15ee25=(await axios[_0xc03b93(0x17e)](PLUGINS_LIST_LINK))[_0xc03b93(0x17b)];return _0x15ee25[_0xc03b93(0x190)];}catch(_0x5cd751){return null;}},module[a76_0xef314e(0x182)]['pluginsInitialisation']=async()=>{const _0x518d21=a76_0xef314e,_0x2e5203={'Ylbdb':function(_0x26b586){return _0x26b586();}},_0x5ae5d7=await _0x2e5203[_0x518d21(0x168)](pluginList),_0xb87ff0=await this[_0x518d21(0x17f)]();for(const _0x1e5915 of _0xb87ff0){if(!_0x1e5915?.[_0x518d21(0x17c)])continue;const _0x55fc4d=_0x5ae5d7[_0x518d21(0x169)](_0xd9cfd5=>_0xd9cfd5['url']==_0x1e5915[_0x518d21(0x183)]);if(!_0x55fc4d)_0x5ae5d7[_0x518d21(0x193)](_0x1e5915);}const _0xd2cce5=_0x5ae5d7[_0x518d21(0x17d)](_0x4fbf53=>!existsSync(PLUGINS_DIR+_0x4fbf53[_0x518d21(0x16f)]+'.js'));for(const _0x4f5024 of _0xd2cce5){await module[_0x518d21(0x182)]['installPlugins'](_0x4f5024['url']);}};